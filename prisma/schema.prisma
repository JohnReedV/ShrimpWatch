generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model transaction {
    id                String  @unique //ID is txHash
    from              String?
    to                String?
    amount            String?
    blockHash         String?
    blockNumber       String?
    baseFeePerGas     String?
    gasUsed           String?
    gasPrice          String?
    feePerGas         String?
    priorityFeeperGas String?
    timeStamp         String? //block timestamp
    chain             String?
    type              String?
    fromWallet        wallet? @relation(fields: [from], references: [id], name: "fromwallet", onDelete: NoAction, onUpdate: NoAction)
    toWallet          wallet? @relation(fields: [to], references: [id], name: "towallet", onDelete: NoAction, onUpdate: NoAction)
}

model wallet {
    id              String @unique //ID is public key
    balance         String?
    nonce           String?
    transactionFrom transaction[] @relation(name: "fromwallet")
    transactionTo   transaction[] @relation(name: "towallet")
}
